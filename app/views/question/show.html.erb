<% content_for :title, @question.title %>
<% content_for :description, @question.content %>
<% content_for :keywords, @question.tags %>

<div class="container mx-auto flex flex-wrap py-6">
  <section class="w-full md:w-3/4 flex flex-col px-3">
    <div class="flex">
      <%= question_status(@question).html_safe %>
    </div>

    <%= render partial: 'layouts/h1', locals: { h1: @question.title } %>

    <span><%= question_tags(@question.tags).html_safe %></span>

    <div class="p-2 w-full pt-4 mt-4 border-t border-gray-200 flex text-sm">
      <span class="text-gray-600 inline-flex items-center pr-3 py-1">
        <svg class="w-4 h-4 mr-1" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>
          閲覧数 <%= number_with_delimiter @question.view_cnt %>
      </span>
      <p class="text-gray-400 inline-flex items-center ml-3">
        投稿 <%= @question.created_at.strftime('%Y/%m/%d') %>
      </p>
      <a href="<%= profile_path(@question.user_hashid) %>" class="inline-flex items-center ml-auto mr-3">
        <img src="<%= @user.logo %>" class="w-8 h-8 rounded-full flex-shrink-0 object-cover object-center">
        <span class="flex-grow flex flex-col pl-3">
          <span class="title-font font-medium text-gray-900"><%= question_user_name @user.name %></span>
        </span>
      </a>
    </div>

    <div class="p-8 w-full mt-4 border-t border-gray-200">
      <p class="text-gray-900 text-xl"><%= simple_format(h(@question.content)) %></p>
    </div>

    <div class="p-2 w-full pt-4 mt-4 border-t border-gray-200">
      <span class="text-gray-600 inline-flex items-center">
        <svg class="w-4 h-4 mr-1" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M21 11.5a8.38 8.38 0 01-.9 3.8 8.5 8.5 0 01-7.6 4.7 8.38 8.38 0 01-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 01-.9-3.8 8.5 8.5 0 014.7-7.6 8.38 8.38 0 013.8-.9h.5a8.48 8.48 0 018 8v.5z"></path></svg>
          回答数 <%= number_with_delimiter @question.answer_cnt %>
      </span>
    </div>


  </section>
  <aside class="w-full md:w-1/4 flex flex-col px-3">
    <div class="w-full bg-white shadow flex flex-col my-4 p-6">
      <p class="text-xl font-semibold pb-5">子育てAI「あいママ」に聞いてみる</p>
      <div id="vue-ai-answer"></div>
    </div>
    <div class="w-full bg-white shadow flex flex-col my-4 p-6">
      <p class="text-xl font-semibold pb-5">似た質問</p>
    </div>
  </aside>
</div>




<h1>Question#show</h1>
<% if current_user.present? and current_user.id == @question.user_id %>
  <%= link_to '変更', edit_question_path(@question.hashid) %>
<% end %>
<hr />
title: <%= @question.title.nil? ? '-' : @question.title %>
<br />
tags: <%= @question.tags.nil? ? '-' : @question.tags %>
<br />
content: <%= @question.content.nil? ? '-' : simple_format(h(@question.content)) %>
<br />
status: <%= @question.status.nil? ? '-' : @question.status %>
<br />
<%= button_to 'プロフィール', profile_path(@user.hashid), method: :get %>

<hr />
Reply
<div id="vue-reply"></div>
<hr />
<% if @question.open? %>
  Comment
  <%= form_with url: question_post_answer_path, local: true do |form| %>
    <%= form.text_area :content %>
    <br />
    <%= form.hidden_field :id, :value => @question.hashid %>

    <%= form.submit 'コメント' %>
  <% end %>
<% end %>
<hr />

